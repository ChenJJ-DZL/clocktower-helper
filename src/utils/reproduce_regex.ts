
const content = `【背景故事】
“晚礼服上的血渍？
才不是呢，这只是洒上了雪莉酒。真粗心！”
【角色能力】
在你的首个夜晚，你会得知两名玩家和一个镇民角色：这两名玩家之一是该角色。
【角色简介】
洗衣妇会得知一个特定的在场镇民角色，但不知道是谁在扮演该角色。
- 在第一个夜晚，洗衣妇会被唤醒，得知两名玩家，并得知其中一人的角色。
- 洗衣妇只会得知一次信息，之后便无法获取更多信息。
【范例】
> 范例: 小文是厨师，小米是守鸦人。洗衣妇得知要么小文是厨师，要么小米是厨师。
> 范例: 小佳是小恶魔，小艾是贞洁者。洗衣妇得知要么小佳是贞洁者，要么小艾是贞洁者。
> 范例: 小明是间谍，小美是红唇女郎。洗衣妇得知他俩其中一人是守鸦人。此时，间谍被当作了一名镇民——在这个例子里，被当作了守鸦人。
【运作方式】
在为首个夜晚进行准备时，将洗衣妇的“镇民”提示标记放置在任意一个镇民角色标记旁，然后将洗衣妇的“错误”提示标记放置在任意其他角色标记旁。
在首个夜晚里，唤醒洗衣妇，并指向标记有“镇民”和“错误”的玩家。将标记有“镇民”的玩家标记展示给洗衣妇。让洗衣妇重新入睡。在说书人方便的时候，移除洗衣妇的提示标记。
【提示标记】
- 镇民
放置时机：在为首个夜晚做准备时放置。
放置条件：放置在一个镇民角色或能被当作镇民角色的角色标记旁边。
移除时机：在洗衣妇获取信息后，说书人可以任由自己方便来进行移除。
- 错误
放置时机：在为首个夜晚做准备时放置。
放置条件：放置在未放置“镇民”提示标记的其他任意一个角色标记旁边。
移除时机：在洗衣妇获取信息后，说书人可以任由自己方便来进行移除。
【规则细节】
- 不同于图书管理员和调查员，洗衣妇永远不可能得知没有镇民在场。在极端情况下（如5人局且有男爵在场时），洗衣妇会得知自己与任意一名玩家之中有洗衣妇，但这在大部分情况下也等同于明示洗衣妇有男爵在场了。因此如果这种情形可能发生，说书人也应该调整角色配置让本局游戏更加有趣一些。
- 如果在首夜就中毒或醉酒，洗衣妇可能会得知错误的玩家（没有放置洗衣妇标记的玩家），或得知错误的角色，或两者兼而有之。但即使如此，说书人也应该让洗衣妇得知镇民角色，否则等同于在明示洗衣妇她自己醉酒中毒了，且给出的信息也不符合洗衣妇应该获取的信息内容。
- 特定角色互动：间谍：洗衣妇能将间谍当作镇民，并得知间谍和任意其他玩家之中有一个任意镇民角色。
【提示与技巧】
- 洗衣妇这个角色看起来非常强大。虽然你无法从邪恶阵营的玩家身上获取信息，但你能够确定一个善良角色。你需要时刻关注这个善良角色，因为一旦他获得了有用的信息，就等同于你也得到了这手信息。如果这个善良角色是拥有可以做出选择的有效能力，你也能够帮助他让的能力发挥出更好的效果。
- 与其他角色相比，处于醉酒或中毒状态的洗衣妇还是比较容易发现自己获取了错误信息的。让我们看看其他角色。厨师是很难确定自己获得的信息"1"是否正确的。如果某位玩家告诉你他是某个镇民角色，而说书人又告诉你这位玩家是另一个镇民角色，这表明你很可能处于醉酒或中毒状态。你可以用这条信息为自己的队伍创建优势，因为如果你是酒鬼，那其他人就不可能再是酒鬼了。因为你能轻松辨别你得到的信息正确还是错误，这也就意味着当你获得的信息看起来比较可信的时候，你就会对自己的角色更加确信。
- 要去识别这两位玩家中哪一位是镇民的方法，不是在公聊时直接问他们，也不是去挨个私聊。最好的方式是在其中一位玩家被质疑时告诉其他玩家你所知道的信息，而且最好在他们自曝之前说出来，这样能够让他们更加相信你。
- 如果你在第一天就选择分享你的信息并且很快将它们说出来，善良阵营玩家就能够获得一个坚实的推理基础。这在你查验到场上存在其他信息获取类镇民角色（如占卜师或共情者）时非常有效。
- 等到游戏的最后一个白天（或在游戏后期）去分享你的信息也会非常有用。如果你能保证你查验到的镇民能活到最后一天，你就能在剩余存活玩家中排除一个恶魔！这种方式让你能够轻松地辨别出谁是恶魔，或者至少让原本三选一的难题变成二选一。
- 与你所查验到的镇民玩家交流，并且秘密地让他知晓你得知了他的角色。这样，你就有机会和他组成同盟，并且能够在其中一人被提名时互相替对方辩护。不要告诉其他人你的同盟是谁，因为邪恶阵营的玩家也会知道。不论是与像占卜师这样恶魔非常想要杀害的人结盟，还是与像守鸦人或士兵这样恶魔会极力避免杀害的人结盟，这一策略都十分有用。
- 在与你所辨识的镇民私聊并确认他们的角色后，你可以在其他玩家面前用一个假的角色来伪装他。如果你想要使这位镇民免受投毒者或其他角色的影响，或是想要引诱邪恶阵营的玩家去攻击一位已经使用过能力的镇民（例如厨师），这种策略都会非常有用。
- 有些时候，说书人会指向邪恶阵营的玩家并告诉你他可能是一个镇民角色。如果你认为这种情况发生的话，不要直接说出你获取到的是哪个镇民角色。你可以编一个假的镇民角色并试图让邪恶阵营的玩家承认自己是这个角色。或者你也可以尝试让善良阵营的玩家在你曝出他的真实角色之前把自己的角色告知与你，这会让你更加相信他……但也会让他降低对你的信任。你们两个可以在没有提前私聊的情况下同时公开你们的角色。这会帮助大家更快地确认你们都在讲真话。
- 公开哪个角色在场，但不说是哪位玩家。这种情况邪恶阵营将会得到很少的信息，但是那位镇民就会信任你，并且在将来他公开他的角色时会显得更可信。
- 你也可以声明自己就是洗衣妇，然后指向一个你认为是邪恶阵营的玩家，说他是一位你所知道的镇民。一个投机取巧的邪恶阵营玩家就可能会抓住这个机会并且表现得像个善良阵营玩家，并且说他们确实就是这个镇民角色。但在你的眼里，你会清楚地知道，他在说谎。
- 当心间谍！他可能会被你错认作镇民。你所得知的调查员可能根本就不是调查员……
【伪装成洗衣妇】
当你要伪装成洗衣妇的时候，这里有几件事你应该记住：
- 声明自己是洗衣妇并指向至少一位邪恶阵营的玩家。然后，说出一个镇民角色（最好是你猜测或已经知道不在场的角色）。如果邪恶阵营的玩家足够聪明的话，他就会意识到你正尝试让他显得善良，并且也会声明自己确实就是这个镇民角色。
- 例如，如果你指向恶魔和一个随机的善良阵营玩家，并且说他们之中有一个僧侣，然后恶魔就可能会声明自己是僧侣，这会让你们俩看起来都像是好人。
- 如果一个善良阵营的玩家说自己是某个镇民角色，在这时你就可以声明自己是洗衣妇，并且证实他说的就是真的。
- 在大家刚醒来的时候，就立刻告诉大家在场有某个具体的角色。然后开始祈祷你猜对了！如果在场确实有这个角色，那么恭喜你！如果场上不存在这个角色，也没关系，邪恶阵营的玩家会去伪装成你提到的这个镇民角色。
- 伪装成洗衣妇有可能会有些困难，因为有时候你提到的在场的镇民角色并不在场。如果这样的话，记得宣称自己可能是醉酒或者中毒了。或者你还有一种更好的方法，你可以说你确实不是洗衣妇，但你是一个在后续游戏中能发挥更大作用的角色（例如猎手或者送葬者），你伪装成洗衣妇这样一个已经使用过能力的角色是为了避免受到恶魔攻击。
- 如果你是个间谍或者你能够与间谍沟通，你就能够通过这个角色的能力获得更准确的信息。这将会让你编的故事更可信。
- 你“应该”在第一个夜晚就获得信息。你“应该”得知的内容是两名玩家，和一个角色标记。
【角色信息】
- 英文名：Washerwoman
- 所属剧本：暗流涌动\n- 角色类型：镇民
- 角色能力类型：获取信息、进场能力`;

function extractSection(content: string, sectionTitle: string) {
    const re = new RegExp(`【${sectionTitle}】([\\s\\S]*?)(?=(\\n?\\s*【|$))`, "m");
    const m = content.match(re);
    if (!m) return { match: null };
    return {
        match: m,
        captured: m[1],
        trimmed: m[1].trim()
    };
}

console.log("Operation:", JSON.stringify(extractSection(content, "运作方式"), null, 2));
